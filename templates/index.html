<!DOCTYPE html>
<html>
<head>
    <title>Multi Disease Prediction</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
<div class="container">
    <h1>Multi Disease Prediction</h1>

    <form method="POST" action="/predict">

        <label>Disease Type</label>
        <select id="disease" name="disease" onchange="updateFields()">
            <option value="diabetes">Diabetes</option>
            <option value="heart">Heart Disease</option>
            <option value="kidney">Kidney Disease</option>
        </select>

        <!------ DIABETES ---------------- -->
        <div id="diabetes-fields" class="fields">
            <!--
            <input type="number" name="Pregnancies" placeholder="Pregnancies" required>
            <input type="number" name="Glucose" placeholder="Glucose" required>
            <input type="number" name="BloodPressure" placeholder="Blood Pressure" required>
            <input type="number" name="SkinThickness" placeholder="Skin Thickness" required>
            <input type="number" name="Insulin" placeholder="Insulin Level" required>
            <input type="number" step="0.1" name="BMI" placeholder="BMI" required>
            <input type="number" step="0.001" name="DiabetesPedigreeFunction" placeholder="Diabetes Pedigree Function" required>
            <input type="number" name="Age" placeholder="Age" required>
            -->
            <input type="number" name="Pregnancies" placeholder="Pregnancies">
            <input type="number" name="Glucose" placeholder="Glucose">
            <input type="number" name="BloodPressure" placeholder="Blood Pressure">
            <input type="number" name="SkinThickness" placeholder="Skin Thickness">
            <input type="number" name="Insulin" placeholder="Insulin Level">
            <input type="number" step="0.1" name="BMI" placeholder="BMI">
             <input type="number" step="0.001" name="DiabetesPedigreeFunction" placeholder="Diabetes Pedigree Function">
            <input type="number" name="Age" placeholder="Age">

        </div>

        <!-- ------- HEART ---------------- -->
        <div id="heart-fields" class="fields">
            <input type="number" name="age" placeholder="Age" required>
            <input type="number" name="sex" placeholder="Sex (0 = Female, 1 = Male)" required>
            <input type="number" name="dataset" placeholder="Dataset (Encoded)" required>
            <input type="number" name="cp" placeholder="Chest Pain Type (Encoded)" required>
            <input type="number" name="trestbps" placeholder="Resting BP" required>
            <input type="number" name="chol" placeholder="Cholesterol" required>
            <input type="number" name="fbs" placeholder="Fasting Blood Sugar (0/1)" required>
            <input type="number" name="restecg" placeholder="Rest ECG (Encoded)" required>
            <input type="number" name="thalch" placeholder="Max Heart Rate" required>
            <input type="number" name="exang" placeholder="Exercise Angina (0/1)" required>
            <input type="number" step="0.1" name="oldpeak" placeholder="ST Depression" required>
            <input type="number" name="slope" placeholder="Slope (Encoded)" required>
            <input type="number" name="ca" placeholder="Major Vessels Count" required>
            <input type="number" name="thal" placeholder="Thal (Encoded)" required>
        </div>

        <!-- -------- KIDNEY ---------->
        <div id="kidney-fields" class="fields">
            <input type="number" name="age" placeholder="Age" required>
            <input type="number" name="bp" placeholder="Blood Pressure" required>
            <input type="number" step="0.001" name="sg" placeholder="Specific Gravity" required>
            <input type="number" name="al" placeholder="Albumin" required>
            <input type="number" name="su" placeholder="Sugar" required>
            <input type="number" name="rbc" placeholder="RBC (Encoded)" required>
            <input type="number" name="pc" placeholder="Pus Cell (Encoded)" required>
            <input type="number" name="pcc" placeholder="Pus Cell Clumps (0/1)" required>
            <input type="number" name="ba" placeholder="Bacteria (0/1)" required>
            <input type="number" name="bgr" placeholder="Blood Glucose Random" required>
            <input type="number" name="bu" placeholder="Blood Urea" required>
            <input type="number" name="sc" placeholder="Serum Creatinine" required>
            <input type="number" name="sod" placeholder="Sodium" required>
            <input type="number" name="pot" placeholder="Potassium" required>
            <input type="number" name="hemo" placeholder="Hemoglobin" required>
            <input type="number" name="pcv" placeholder="Packed Cell Volume" required>
            <input type="number" name="wc" placeholder="White Blood Cell Count" required>
            <input type="number" name="rc" placeholder="Red Blood Cell Count" required>
            <input type="number" name="htn" placeholder="Hypertension (0/1)" required>
            <input type="number" name="dm" placeholder="Diabetes Mellitus (0/1)" required>
            <input type="number" name="cad" placeholder="Coronary Artery Disease (0/1)" required>
            <input type="number" name="appet" placeholder="Appetite (Encoded)" required>
            <input type="number" name="pe" placeholder="Pedal Edema (0/1)" required>
            <input type="number" name="ane" placeholder="Anemia (0/1)" required>
        </div>

        <button type="submit">Predict</button>
    </form>
</div>

<!--
<script>
function updateFields() {
    document.querySelectorAll('.fields').forEach(f => f.style.display = "none");
    const d = document.getElementById("disease").value;

    if (d === "diabetes") document.getElementById("diabetes-fields").style.display = "block";
    if (d === "heart") document.getElementById("heart-fields").style.display = "block";
    if (d === "kidney") document.getElementById("kidney-fields").style.display = "block";
}
window.onload = updateFields;
</script>
-->

<script>
function updateFields() {

    // Hide all sections
    document.querySelectorAll('.fields').forEach(f => f.style.display = "none");

    // Remove REQUIRED from all inputs
    document.querySelectorAll('.fields input').forEach(i => {
        i.removeAttribute("required");
    });

    let disease = document.getElementById("disease").value;

    // Show ONLY the selected section + set required fields
    if (disease === "diabetes") {
        let div = document.getElementById("diabetes-fields");
        div.style.display = "block";
        div.querySelectorAll("input").forEach(i => i.setAttribute("required", "required"));
    }

    if (disease === "heart") {
        let div = document.getElementById("heart-fields");
        div.style.display = "block";
        div.querySelectorAll("input").forEach(i => i.setAttribute("required", "required"));
    }

    if (disease === "kidney") {
        let div = document.getElementById("kidney-fields");
        div.style.display = "block";
        div.querySelectorAll("input").forEach(i => i.setAttribute("required", "required"));
    }
}

// Run on page load
window.onload = updateFields;
</script>

</body>
</html>

